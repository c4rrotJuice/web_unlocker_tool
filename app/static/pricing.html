<!--pricing.html/js-->
<!doctype html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cite Unlocker Pricing</title>
    <script>
    (function () {
      var key = "web_unlocker_theme";
      var mode = "system";
      try {
        var stored = localStorage.getItem(key);
        if (stored === "light" || stored === "dark" || stored === "system") mode = stored;
      } catch (_e) {}
      var dark = mode === "dark" || (mode === "system" && window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches);
      document.documentElement.classList.toggle("dark", !!dark);
      document.documentElement.dataset.themeMode = mode;
      document.documentElement.style.colorScheme = dark ? "dark" : "light";
    })();
  </script>
    <script src="https://cdn.paddle.com/paddle/v2/paddle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/static/js/auth.js"></script>
    <script src="/static/js/theme.js"></script>
    <link rel="stylesheet" href="./css/pricing.css" />
    <link rel="stylesheet" href="/static/css/theme.css" />
</head>

  <body>
    <header class="navbar">
      <div class="navbar-container">
        <!-- Logo -->
        <div class="logo">
          <img src="./images/logo_transparent.png" alt="Logo" />
        </div>

        <!-- Menu -->
        <nav>
          <ul class="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/pricing.html" class="active">Pricing</a></li>
            <li>
              <a href="https://citeunlock.choneize.com/terms"
                >Terms & Policies</a
              >
            </li>
            <li><a href="https://citeunlock.choneize.com/blog">Blog</a></li>
            <li><a href="/auth" id="authButton">Sign in/Up</a></li>
          </ul>
        </nav>

        <!-- Button -->
        <div class="nav-btn">
          <a href="/unlock" class="btn">Unlock a Page</a>
        </div>
      </div>
    </header>

    <!--                  Pricing                     -->
    <section id="pricing-1387">
      <div class="cs-container">
        <div class="cs-top-layout">
          <div class="cs-content">
          <span class="cs-topper">Our Pricing</span>
          <h2 class="cs-title">Choose the Tier That Matches Your Workflow</h2>
          <p class="cs-text">
            Purpose-built plans for everything from light academic testing to
            high-volume publishing workflows.
          </p>
          <div class="cs-toggle-group">
            <span id="cs-option1-1387" class="cs-plan">Pay Quarterly</span>
            <div class="cs-toggle" aria-label="click to switch plans pricing">
              <span aria-hidden="true" class="cs-toggle-switch"></span>
            </div>
            <span id="cs-option2-1387" class="cs-plan">Pay Monthly</span>
          </div>
        </div>

        <!-- Monthly -->
        <ul class="cs-card-group cs-option1">
          <li class="cs-item">
            <div class="cs-flex">
              <span class="cs-package">Freemium ‚Äî Starter</span>
              <span class="cs-price"
                >$0.00 <span class="cs-duration">/Month</span></span
              >
              <div class="cs-tag">
                <img
                  class="cs-icon"
                  src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/fire.svg"
                  width="16"
                  height="16"
                  alt="fire"
                />
              </div>
            </div>
            <div class="cs-info">
              <p class="cs-tier-subtitle">For light academic use &amp; testing the platform</p>
              <ul class="cs-ul">
                <li class="cs-li">10 extensions per week</li>
                <li class="cs-li">3 active documents (7-day window)</li>
                <li class="cs-li">APA &amp; MLA citation formats</li>
                <li class="cs-li">PDF export</li>
                <li class="cs-li">Basic editor access</li>
                <li class="cs-li">Standard processing queue</li>
                <li class="cs-li">No payment required</li>
              </ul>
              <p class="cs-limitations">Archived documents after quota window ‚Ä¢ No manual document deletion ‚Ä¢ No bookmarks or advanced history search</p>
              <a href="/auth" class="cs-button-transparent"
                >Sign Up</a
              >
            </div>
          </li>

          <li class="cs-item cs-popular">
            <div class="cs-flex">
              <span class="cs-package">STANDARD ‚Äî Researcher</span>
              <span class="cs-price"
                >$5 <span class="cs-duration">/Month</span></span
              >
              <div class="cs-tag">
                <img
                  class="cs-icon"
                  src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/fire.svg"
                  width="16"
                  height="16"
                  alt="fire"
                />
                POPULAR
              </div>
            </div>
            <div class="cs-info">
              <p class="cs-tier-subtitle">For active students &amp; structured research workflows</p>
              <ul class="cs-ul">
                <li class="cs-li">Everything in Starter, plus:</li>
                <li class="cs-li">15 extension usages per day</li>
                <li class="cs-li">200 web app usages per week</li>
                <li class="cs-li">15 documents (rolling 14-day window)</li>
                <li class="cs-li">Faster processing priority</li>
                <li class="cs-li">Advanced citation formats: APA ‚Ä¢ MLA ‚Ä¢ Chicago ‚Ä¢ Harvard</li>
                <li class="cs-li">Export as PDF, DOCX, or TXT</li>
                <li class="cs-li">Bookmarks &amp; history search</li>
                <li class="cs-li">Monthly usage reports</li>
                <li class="cs-li">Anti-bot protection support (Cloudscraper enabled/extension)</li>
              </ul>
              <p class="cs-value-line">Built for consistent academic productivity.</p>
              <a
                href="javascript:void(0)"
                onclick="openCheckout('standard', 'Monthly')"
                class="cs-button-transparent"
                >Get Now</a
              >
            </div>
          </li>

          <li class="cs-item cs-popular">
            <div class="cs-flex">
              <span class="cs-package">PRO ‚Äî Professional</span>
              <span class="cs-price"
                >$9 <span class="cs-duration">/Month</span></span
              >
              <div class="cs-tag">
                <img
                  class="cs-icon"
                  src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/fire.svg"
                  width="16"
                  height="16"
                  alt="fire"
                />
                Hot Deal
              </div>
            </div>
            <div class="cs-info">
              <p class="cs-tier-subtitle">For heavy research, publishing &amp; full control</p>
              <ul class="cs-ul">
                <li class="cs-li">Everything in Researcher, plus:</li>
                <li class="cs-li">Unlimited unlocks</li>
                <li class="cs-li">Highest processing priority</li>
                <li class="cs-li">No document limits</li>
                <li class="cs-li">No archive / freeze restrictions</li>
                <li class="cs-li">Delete documents anytime</li>
                <li class="cs-li">Bulk ZIP export of all documents</li>
                <li class="cs-li">Custom citation templates</li>
                <li class="cs-li">Modular citation builder</li>
                <li class="cs-li">Unlimited document exports</li>
              </ul>
              <p class="cs-value-line">Zero limits. Maximum workflow speed.</p>
              <a
                href="javascript:void(0)"
                onclick="openCheckout('pro', 'Monthly')"
                class="cs-button-transparent"
                >Get Now</a
              >
            </div>
          </li>
        </ul>

        <!-- Annual -->
        <ul class="cs-card-group cs-option2">
          <li class="cs-item cs-popular">
            <div class="cs-flex">
              <span class="cs-package">Researcher Quarterly</span>
              <span class="cs-price"
                >$12 <span class="cs-duration">/3months</span></span
              >
              <div class="cs-tag">
                <img
                  class="cs-icon"
                  src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/fire.svg"
                  width="16"
                  height="16"
                  alt="fire"
                />
              </div>
            </div>
            <div class="cs-info">
              <p class="cs-tier-subtitle">For active students &amp; structured research workflows</p>
              <ul class="cs-ul">
                <li class="cs-li">Everything in Starter, plus:</li>
                <li class="cs-li">15 extension usages per day</li>
                <li class="cs-li">200 web app usages per week</li>
                <li class="cs-li">15 documents (rolling 14-day window)</li>
                <li class="cs-li">Faster processing priority</li>
                <li class="cs-li">Advanced citation formats: APA ‚Ä¢ MLA ‚Ä¢ Chicago ‚Ä¢ Harvard</li>
                <li class="cs-li">Export as PDF, DOCX, or TXT</li>
                <li class="cs-li">Bookmarks &amp; history search</li>
                <li class="cs-li">Monthly usage reports</li>
                <li class="cs-li">Anti-bot protection support (Cloudscraper enabled/extension)</li>
                <li class="cs-li">Billed per 3 months</li>
              </ul>
              <p class="cs-value-line">Built for consistent academic productivity.</p>
              <a
                href="javascript:void(0)"
                onclick="openCheckout('standard', 'Quarterly')"
                class="cs-button-transparent"
                >Get Now</a
              >
            </div>
          </li>
          <li class="cs-item">
            <div class="cs-flex">
              <span class="cs-package">Professional Quarterly</span>
              <span class="cs-price"
                >$20 <span class="cs-duration">/3months</span></span
              >
              <div class="cs-tag">
                <img
                  class="cs-icon"
                  src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/fire.svg"
                  width="16"
                  height="16"
                  alt="fire"
                />
                Hot Deal
              </div>
            </div>
            <div class="cs-info">
              <p class="cs-tier-subtitle">For heavy research, publishing &amp; full control</p>
              <ul class="cs-ul">
                <li class="cs-li">Everything in Researcher, plus:</li>
                <li class="cs-li">Unlimited unlocks</li>
                <li class="cs-li">Highest processing priority</li>
                <li class="cs-li">No document limits</li>
                <li class="cs-li">No archive / freeze restrictions</li>
                <li class="cs-li">Delete documents anytime</li>
                <li class="cs-li">Bulk ZIP export of all documents</li>
                <li class="cs-li">Custom citation templates</li>
                <li class="cs-li">Modular citation builder</li>
                <li class="cs-li">Unlimited document exports</li>
                <li class="cs-li">Billed per 3 months</li>
              </ul>
              <p class="cs-value-line">Zero limits. Maximum workflow speed.</p>
              <a
                href="javascript:void(0)"
                onclick="openCheckout('pro', 'Quarterly')"
                class="cs-button-transparent"
                >Get Now</a
              >
            </div>
          </li>
        </ul>

        </div>

        <div class="cs-comparison-wrap">
          <h3 class="cs-comparison-title">Feature Comparison</h3>
          <div class="cs-table-scroll">
            <table class="cs-comparison-table">
              <thead>
                <tr>
                  <th>Feature</th>
                  <th>Starter</th>
                  <th>Researcher</th>
                  <th>Professional</th>
                </tr>
              </thead>
              <tbody>
                <tr><td>Unlock Limit</td><td>10/week</td><td>15/day</td><td>Unlimited</td></tr>
                <tr><td>Processing Priority</td><td>Standard</td><td>Faster</td><td>Highest</td></tr>
                <tr><td>Documents</td><td>3 (7-day)</td><td>15 (14-day)</td><td>Unlimited</td></tr>
                <tr><td>Archive Restrictions</td><td>Yes</td><td>Yes</td><td>No</td></tr>
                <tr><td>Delete Documents</td><td>No</td><td>No</td><td>Yes</td></tr>
                <tr><td>Export Formats</td><td>PDF</td><td>PDF/DOCX/TXT</td><td>PDF/DOCX/TXT + ZIP</td></tr>
                <tr><td>Citation Formats</td><td>APA/MLA</td><td>+Chicago/Harvard</td><td>+Custom Templates</td></tr>
                <tr><td>Bookmarks</td><td>No</td><td>Yes</td><td>Yes</td></tr>
                <tr><td>History Search</td><td>No</td><td>Yes</td><td>Yes</td></tr>
                <tr><td>Monthly Reports</td><td>No</td><td>Yes</td><td>Yes</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <script>
      // Toggle logic
      const leftOption = document.querySelector(
        "#pricing-1387 #cs-option1-1387",
      );
      const rightOption = document.querySelector(
        "#pricing-1387 #cs-option2-1387",
      );
      const toggle = document.querySelector("#pricing-1387 .cs-toggle");
      const cardGroup = Array.from(
        document.querySelectorAll("#pricing-1387 .cs-card-group"),
      );

      toggle.addEventListener("click", () => {
        cardGroup.forEach((item) => item.classList.toggle("cs-active"));
        toggle.classList.toggle("active");
      });
      leftOption.addEventListener("click", () => {
        cardGroup.forEach((item) => item.classList.remove("cs-active"));
        toggle.classList.remove("active");
      });
      rightOption.addEventListener("click", () => {
        cardGroup.forEach((item) => item.classList.add("cs-active"));
        toggle.classList.add("active");
      });
      //===========================================================================================================================

      const CONFIG = {
        environment: "sandbox",
      };

      let currentUserId = null;
      let currentUserEmail = null;
      let paddleReady = false;
      let paddleInitError = null;

      async function authHeaders() {
        const token = await window.webUnlockerAuth?.getAccessToken?.();
        return token ? { Authorization: `Bearer ${token}` } : {};
      }

      async function loadCurrentUser() {
        try {
          const res = await fetch("/api/me", {
            headers: await authHeaders(),
            credentials: "include",
          });

          if (!res.ok) {
            currentUserId = null;
            return;
          }
          const data = await res.json();
          currentUserId = data.user_id || null;
          currentUserEmail = data.email || null;
        } catch (err) {
          console.error("‚ùå Failed to load user info:", err);
          currentUserId = null;
          currentUserEmail = null;
        }
      }

      async function initPaddle() {
        try {
          const res = await fetch("/get_paddle_token", {
            headers: await authHeaders(),
            credentials: "include",
          });
          if (!res.ok) {
            const errorText = await res.text();
            throw new Error(errorText || "Failed to fetch Paddle token");
          }
          const data = await res.json();

          if (!data.token) {
            throw new Error("No Paddle token returned");
          }

          const paddleEnv = data.environment || CONFIG.environment;
          Paddle.Environment.set(paddleEnv);
          Paddle.Initialize({
            token: data.token,
            eventCallback: (event) => {
              console.log("üîî Paddle event:", event);
            },
          });

          console.log("‚úÖ Paddle initialized with backend token");
          paddleReady = true;
        } catch (err) {
          paddleReady = false;
          paddleInitError = err;
          console.error("‚ùå Paddle init failed:", err);
        }
      }

      document.addEventListener("DOMContentLoaded", async () => {
        await loadCurrentUser();
        await initPaddle();
      });
      // Open checkout for a plan
      function openCheckout(plan, cycle) {
        if (!currentUserId) {
          alert("Please log in before subscribing.");
          window.location.href = "/auth";
          return;
        }
        if (!paddleReady) {
          alert(
            "Billing isn't ready yet. Please refresh the page or try again later.",
          );
          if (paddleInitError) {
            console.error("Paddle init error:", paddleInitError);
          }
          return;
        }

        (async () => {
          const auth = await authHeaders();
          fetch("/create_paddle_checkout", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            ...auth,
          },
          credentials: "include",
          body: JSON.stringify({ plan, cycle }),
        })
          .then(async (res) => {
            if (!res.ok) {
              const errorText = await res.text();
              throw new Error(
                errorText || "Failed to create a Paddle checkout session",
              );
            }
            return res.json();
          })
          .then((data) => {
            if (!data.transaction_id) {
              throw new Error("Missing Paddle transaction ID");
            }
            Paddle.Checkout.open({
              transactionId: data.transaction_id,
              customer: currentUserEmail
                ? { email: currentUserEmail }
                : undefined,
              settings: {
                theme: "light",
                displayMode: "overlay",
                successUrl: "https://citeunlock.choneize.com/success",
              },
            });
          })
          .catch((err) => {
            console.error("‚ùå Failed to open Paddle checkout:", err);
            alert(
              "We couldn't start the checkout. Please refresh and try again.",
            );
          });
        })();
      }
    </script>
      <script src="/static/js/nav.js"></script>
  </body>
</html>
